<section class="character-list">
  @switch ((viewState$ | async)?.state) {
    @case (ViewState.LOADING) {
      <div class="loading">Loading characters...</div>
    }
    @case (ViewState.ERROR) {
      <div class="error">
        <p>Error loading characters: {{ (viewState$ | async)?.error }}</p>
        <button (click)="loadCharacters()">Retry</button>
      </div>
    }
    @case (ViewState.CONTENT) {
      <div class="character-grid">
        @for (character of characters$ | async; track character.id) {
          <div class="character-card">
            <img [src]="character.image" [alt]="character.name" class="character-image" />
            <div class="character-info">
              <h3>{{ character.name }}</h3>
              <p><strong>Status:</strong> {{ character.status }}</p>
              <p><strong>Species:</strong> {{ character.species }}</p>
              <p><strong>Gender:</strong> {{ character.gender }}</p>
            </div>
          </div>
        }
      </div>
    }
  }
</section>
